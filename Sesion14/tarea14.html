<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">  
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <title>Calculo de Salario | Sesion 14</title>
</head>
<body>

<div ng-app="myApp" ng-controller="myCtrl">
    <!-- <h2>CALCULO DE SALARIO | SESION 14 </h2>
    <p> COD DE EMPLEADO:  <input type="text" ng-model="codigo"></p></p>
    <p> CANT. HORAS TRABAJADAS: <input type="text" ng-model="cantHoras">{{cantHoras}}</p> 
    <p> TARIFA POR HORA: S/.<input type="text" ng-model="tarifaHora">{{tarifaHora}}</p> <br><br> -->




    <div class="container">
        <div class="row">
            <div class="col-md-8 offset-md-2 mt-4">
                    <form class="bg-light pt-2 pb-5 px-4" id="miFormulario">
                        <div class="card">

                            <div class="card-header  text-center">
                                <h3 class="titulo text-primary">CALCULO DE SALARIO | SESION 14</h3>
                            </div>

                            <div class="card-body bg-light">                 
                                <div class="form-group row">
                                    <label for="codigo" class="col-sm-3 col-form-label text-primary">
                                        COD DE EMPLEADO:
                                    </label>
                                    <div class="col-sm-6">
                                      <input type="text" ng-model="codigo" class="form-control campo" id="codigo" placeholder="Ingrese Codigo">
                                    </div>
                                </div> <br>


                                <div class="form-group row">
                                    <label for="horas" class="col-sm-3 col-form-label text-primary">
                                        CANT. HORAS TRABAJADAS:
                                    </label>
                                    <div class="col-sm-6">
                                      <input type="number" ng-model="cantHoras" class="form-control campo" id="codigo" placeholder="Ingrese Codigo">
                                    </div>
                                </div> <br>

                                <div class="form-group row">
                                    <label for="tarifa" class="col-sm-3 col-form-label text-primary">
                                        TARIFA x HORA: S/.
                                    </label>
                                    <div class="col-sm-6">
                                      <input type="text" ng-model="tarifaHora" class="form-control campo" id="codigo" placeholder="Ingrese Codigo">
                                    </div>
                                </div> <br>

                                <div class="form-group row">
                                    <p><b>CODIGO DE EMPLEADO: {{codigo}} </b></p>
                                    <p><b>SUELDO BRUTO: S/. {{CalcularSueldoBruto()}} </b></p>
                                    <p><b>DESCUENTO: S/. {{CalcularDescuento()}} </b></p>
                                    <p><b>SALARIO NETO: S/. {{CalcularSueldoBruto() - CalcularDescuento()}} </b></p>
                                </div> <br>
                                  
                            </div>
                          </div>
                        </div>
                    </form>
            </div>
        </div>
</div>



<script>
    let app = angular.module("myApp", [])

    app.controller("myCtrl", function($scope){

        $scope.cantHoras=0
        $scope.tarifaHora=0

        $scope.CalcularSueldoBruto = function(){
            let sBruto = 0
            sBruto = $scope.cantHoras * $scope.tarifaHora
            return sBruto
        }

        $scope.CalcularDescuento = function(){
            let SueldoBruto = $scope.CalcularSueldoBruto()
            let descuento 
            if (SueldoBruto < 500) {
                descuento = 0
                return descuento
            } else if (SueldoBruto >= 501 && SueldoBruto <= 1000){
                descuento = SueldoBruto * 0.02
                return descuento
            }else if (SueldoBruto >= 1001 && SueldoBruto <= 4000){
                descuento = SueldoBruto * 0.08
                return descuento
            } else if (SueldoBruto >= 4001 && SueldoBruto <= 8000){
                descuento = SueldoBruto * 0.15
                return descuento
            } else if (SueldoBruto >= 8001 && SueldoBruto <= 10000){
                descuento = SueldoBruto * 0.21
                return descuento
            } else {
                descuento = SueldoBruto * 0.30
                return descuento
            }           
        }

    })
</script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
</body>
</html>