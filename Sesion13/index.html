<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <title>EMPRESA MULTIPLAN | Sesion 13</title>

</head>
<body>

    <div ng-app="myApp" ng-controller="myCtrl">
        <h2>EMPRESA MULTIPLAN | Sesion 13</h2>
        <p>Distancia Recorrida(Km): <input type="text" ng-model="distancia"></p>
        <p>{{distancia}} Kilometros Recorridos</p>
        <p> Tarifa: S/. {{calcularTarifa()}}</p>
        <p> Descuento: S/. {{calcularDescuento()}}</p>
        <p><b> PAGO TOTAL: S/. {{calcularTarifa() - calcularDescuento()}}</b></p>
    </div>
    
    <script>
        let app = angular.module("myApp", [])

        app.controller("myCtrl", function($scope){
            $scope.distancia= 0

            $scope.calcularTarifa = function(){
                if($scope.distancia <= 300){
                    return 250
                } else if ($scope.distancia <= 1000){
                    return 250 + 30 * ($scope.distancia - 300)
                } else {
                    return 250 + 30 * (1000-300) + 20 * ($scope.distancia - 1000)
                }
            };

            $scope.calcularDescuento = function(){              
                let ValorTarifa = $scope.calcularTarifa()              
                if (ValorTarifa >= 500){
                    return ValorTarifa * 0.10 
                }
            }
        })
    </script>
</body>
</html>